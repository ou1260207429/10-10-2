<div class="reg_content">
  <div [@routerTransition]>
    <nz-spin [nzTip]="l('Registering')" [nzSpinning]="saving">
      <nz-card [nzTitle]="nzTitle" nzHoverable='true'>
        <ng-template #nzTitle>
          <div class="text-center yoyo__block">
            <i class="anticon anticon-login"></i>
            <span>{{l('Register')}}</span>
          </div>
        </ng-template>
        <form nz-form #validateForm="ngForm" (ngSubmit)="save()">

          <br>
          <!-- 手机号码 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-phone">
                <input nz-input name="phone" #userName="ngModel" [(ngModel)]="model.name" placeholder="登录手机号码" required
                  minlength="11" maxlength="11">
              </nz-input-group>
              <nz-form-explain *ngIf="name.control.dirty&&name.control.errors">
                <ng-container *ngIf="name.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large">

                <nz-row [nzGutter]="8">
                  <nz-col [nzSpan]="16">
                    <nz-input-group nzSize="large" nzSize="large" nzPrefixIcon="anticon anticon-mail">
                      <input nz-input placeholder="验证码" />
                    </nz-input-group>
                    <nz-form-explain *ngIf="!captcha ">
                      请输入正确的验证码
                    </nz-form-explain>
                  </nz-col>
                  <nz-col [nzSpan]="8">
                    <button type="button" nz-button nzSize="large" (click)="getCaptcha()" [disabled]="count" nzBlock
                      [nzLoading]="http.loading">
                      {{ count ? count + 's' : '获取验证码' }}
                    </button>
                  </nz-col>
                </nz-row>
              </nz-input-group>



            </nz-form-control>
          </nz-form-item>

          <!-- 密码 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-lock">
                <input nz-input type="password" name="password" #password="ngModel" [(ngModel)]="model.password"
                  type="password" [placeholder]="l('Password')" required maxlength="32" minlength="6">
              </nz-input-group>
              <nz-form-explain *ngIf="password.control.dirty&&password.control.errors">
                <ng-container *ngIf="password.control.hasError('required')">不能为空！</ng-container>
                <ng-container *ngIf="password.control.hasError('minlength')">{{l('MinLength')}}</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>



          <!-- 确认密码 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-lock">
                <input nz-input type="password" name="password" #password="ngModel" [(ngModel)]="model.password"
                  type="password" placeholder="确认密码" required maxlength="32" minlength="6">
              </nz-input-group>
              <nz-form-explain *ngIf="password.control.dirty&&password.control.errors">
                <ng-container *ngIf="password.control.hasError('required')">不能为空！</ng-container>
                <ng-container *ngIf="password.control.hasError('minlength')">{{l('MinLength')}}</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>

          <!-- 企业名称 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-team">
                <input nz-input name="name" #name='ngModel' [(ngModel)]="model.name" placeholder="企业名称" required>
              </nz-input-group>
              <nz-form-explain *ngIf="name.control.dirty&&name.control.errors">
                <ng-container *ngIf="name.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>

          <!-- 组织机构代码 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-barcode">
                <input nz-input name="surname" #surname="ngModel" [(ngModel)]="model.surname" placeholder="组织机构代码"
                  required>
              </nz-input-group>
              <nz-form-explain *ngIf="surname.control.dirty&&surname.control.errors">
                <ng-container *ngIf="surname.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>


          <!-- 企业法人/负责人 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-user">
                <input nz-input name="name" #emailAddress="ngModel" [(ngModel)]="model.name" placeholder="法定代表人/负责人"
                  required>
              </nz-input-group>
              <nz-form-explain *ngIf="name.control.dirty&&name.control.errors">
                <ng-container *ngIf="name.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>



          <!-- 企业法人/负责人联系电话 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-phone">
                <input nz-input name="emailAddress" #emailAddress="ngModel" [(ngModel)]="model.emailAddress"
                  placeholder="企业法人/负责人联系电话" required phone maxlength="11">
              </nz-input-group>
              <nz-form-explain *ngIf="emailAddress.control.dirty&&emailAddress.control.errors">
                <ng-container *ngIf="emailAddress.control.hasError('email')">{{l('NotEmail')}}</ng-container>
                <ng-container *ngIf="emailAddress.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>


          <!-- 联系人 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-user">
                <input nz-input name="emailAddress" #emailAddress="ngModel" [(ngModel)]="model.emailAddress"
                  placeholder="联系人" required>
              </nz-input-group>
              <nz-form-explain *ngIf="emailAddress.control.dirty&&emailAddress.control.errors">
                <ng-container *ngIf="emailAddress.control.hasError('email')">{{l('NotEmail')}}</ng-container>
                <ng-container *ngIf="emailAddress.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>


          <!-- 联系电话 -->
          <nz-form-item>
            <nz-form-control nzHasFeedback>
              <nz-input-group nzSize="large" nzPrefixIcon="anticon anticon-phone">
                <input nz-input type="email" name="emailAddress" #emailAddress="ngModel"
                  [(ngModel)]="model.emailAddress" placeholder="联系电话" required maxlength="11">
              </nz-input-group>
              <nz-form-explain *ngIf="emailAddress.control.dirty&&emailAddress.control.errors">
                <ng-container *ngIf="emailAddress.control.hasError('email')">{{l('NotEmail')}}</ng-container>
                <ng-container *ngIf="emailAddress.control.hasError('required')">不能为空！</ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>

          <!-- 功能按钮 -->
          <nz-form-item>
            <nz-col [nzSpan]="12">
              <button (click)="back()" type="button" nz-button [disabled]="saving">{{l("Back")}}</button>
            </nz-col>
            <nz-col [nzSpan]="12" class="text-right">
              <button nz-button nzType="primary" type="submit"
                [disabled]="!validateForm.valid||saving">{{l("Submit")}}</button>
            </nz-col>
          </nz-form-item>

        </form>

      </nz-card>
    </nz-spin>
  </div>
</div>