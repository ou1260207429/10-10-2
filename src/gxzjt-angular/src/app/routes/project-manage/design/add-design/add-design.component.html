<nz-card>

  <form nz-form class="table" #validateForm="ngForm">

    <div class="tr">
      <div class="title">建设工程消防设计审查申报表</div>
    </div>





    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>建设单位</nz-form-label>
      </div>
      <div class="td_r_li">

        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="jsconstructionUnit" #jsconstructionUnit="ngModel"
            [(ngModel)]="postData.jsconstructionUnit" placeholder="请输入建设单位" required />

          <div class="vali_err" *ngIf="jsconstructionUnit.control.dirty&&jsconstructionUnit.control.errors">
            必填
          </div>

        </nz-form-control>

      </div>
    </div>





    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>工程名称</nz-form-label>
      </div>
      <div class="td_r_li">

        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="projectName" #projectName="ngModel" [(ngModel)]="postData.projectName"
            placeholder="请输入工程名称" required />
          <div class="vali_err" *ngIf="projectName.control.dirty&&projectName.control.errors">
            必填
          </div>

        </nz-form-control>

      </div>
    </div>








    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>法定代表人/主要负责人</nz-form-label>
      </div>

      <div class="td">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="legalRepresentative" #legalRepresentative="ngModel"
            [(ngModel)]="postData.legalRepresentative" placeholder="请输入法定代表人/主要负责人" required />
          <div class="vali_err" *ngIf="legalRepresentative.control.dirty&&legalRepresentative.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>

      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>联系电话</nz-form-label>
      </div>

      <div class="td_r_li">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="legalRepresentativeNo" #legalRepresentativeNo="ngModel"
            [(ngModel)]="postData.legalRepresentativeNo" placeholder="请输法定代表人/主要负责人联系电话" required />
          <div class="vali_err" *ngIf="legalRepresentativeNo.control.dirty&&legalRepresentativeNo.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>

    </div>









    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>联系人</nz-form-label>
      </div>

      <div class="td">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="contacts" #contacts="ngModel" [(ngModel)]="postData.contacts"
            placeholder="请输入联系人" required />
          <div class="vali_err" *ngIf="contacts.control.dirty&&contacts.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>

      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>联系电话</nz-form-label>
      </div>

      <div class="td_r_li">
        <nz-form-control nzHasFeedback>

          <input nz-input type="text" name="contactsNumber" #contactsNumber="ngModel"
            [(ngModel)]="postData.contactsNumber" placeholder="请输入联系电话" required />
          <div class="vali_err" *ngIf="contactsNumber.control.dirty&&contactsNumber.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>

    </div>








    <div class="tr_btm_nan">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>工程地址</nz-form-label>
      </div>
      <div class="td_r_li">
        <nz-form-control nzHasFeedback>

          <nz-cascader nzPlaceHolder="请选择工程所在区县" nzSize="large" [nzChangeOnSelect]="true" [nzOptions]="areaData"
            [(ngModel)]="postData.engineeringCitycountyAndDistrict" name="engineeringCitycountyAndDistrict"
            (nzChange)="onChangeCitycountyAndDistrict($event)" #engineeringCitycountyAndDistrict="ngModel" required>
          </nz-cascader>
          <div class="vali_err"
            *ngIf="engineeringCitycountyAndDistrict.control.dirty&&engineeringCitycountyAndDistrict.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>
    </div>

    <div class="tr">
      <div class="td_label_fixed">

      </div>
      <div class="td_r_li">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="engineeringAddress" #engineeringAddress="ngModel"
            [(ngModel)]="postData.engineeringAddress" placeholder="请输入工程详细地址" required />
          <div class="vali_err" *ngIf="engineeringAddress.control.dirty&&engineeringAddress.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>
    </div>







    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>审批单位</nz-form-label>
      </div>
      <div class="td_r_li">
        <nz-form-control nzHasFeedback>

          <input nz-input type="text" name="engineeringNo" #engineeringNo="ngModel" [(ngModel)]="postData.engineeringNo"
            placeholder="请输入工程详细地址" required />
          <div class="vali_err" *ngIf="engineeringNo.control.dirty&&engineeringNo.control.errors">
            必填
          </div>

        </nz-form-control>
      </div>
    </div>











    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">计划开工日期</nz-form-label>
      </div>

      <div class="td">
        <nz-date-picker [(ngModel)]="postData.planStartTime" nzFormat="yyyy/MM/dd" name="planStartTime">
        </nz-date-picker>
      </div>

      <div class="td_label_fixed">
        <nz-form-label nzSize="large">计划竣工日期</nz-form-label>
      </div>

      <div class="td_r_li">
        <nz-date-picker [(ngModel)]="postData.planEndTime" nzFormat="yyyy/MM/dd" name="planEndTime">
        </nz-date-picker>
      </div>

    </div>








    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>类别</nz-form-label>
      </div>
      <div class="td_r_li">
        <nz-form-control>

          <nz-radio-group [(ngModel)]="postData.projectCategoryId" name="projectCategoryId" #projectCategoryId="ngModel"
            required>
            <label nz-radio nzValue="1">新建</label>
            <label nz-radio nzValue="2">扩建</label>

            &nbsp;&nbsp;&nbsp;&nbsp;改建&nbsp;&nbsp;(&nbsp;&nbsp;
            <label nz-radio nzValue="3">装修</label>
            <label nz-radio nzValue="4">建筑保温</label>
            <label nz-radio nzValue="5">改变用途</label>
            &nbsp;&nbsp;)
          </nz-radio-group>
          <div class="vali_err" *ngIf="projectCategoryId.control.dirty&&projectCategoryId.control.errors">
            必填
          </div>

        </nz-form-control>
      </div>
    </div>











    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>审批单位</nz-form-label>
      </div>
      <div class="td_r_li">
        <nz-form-control nzHasFeedback>

          <input nz-input type="text" name="engineeringNo" #engineeringNo="ngModel" [(ngModel)]="postData.engineeringNo"
            placeholder="请输入工程详细地址" required />
          <div class="vali_err" *ngIf="engineeringNo.control.dirty&&engineeringNo.control.errors">
            必填
          </div>

        </nz-form-control>
      </div>
    </div>










    <div class="tr">
      <div class="td_label_fixed">
        <label nzSize="large">单位类别</label>
      </div>

      <div class="td_for_org_sel_title1">
        <label nzSize="large">单位名称</label>
      </div>
      <div class="td_for_org_sel_title2">
        <label nzSize="large">资质等级</label>
      </div>
      <div class="td_for_org_sel_title3">
        <label nzSize="large">联系人</label>
      </div>
      <div class="td_for_org_sel_title4">
        <label nzSize="large">联系电话</label>
      </div>
      <div class="td_for_crl_title">
        <label nzSize="large">操作</label>
      </div>
    </div>





    <div class="tr" *ngFor="let item of postData.design;let i = index">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>设计单位</nz-form-label>
      </div>
      <div class="td_for_org_sel1">
        <nz-form-control>
          <nz-rj-selector-org [(ngModel)]="item.designUnit" placeHolder="请输入设计单位" ngDefaultControl
            name="designUnitDesignDesignUnit{{i}}" #designUnitDesignDesignUnit{{i}}="ngModel" [required]="true"
            nzHasFeedback>
          </nz-rj-selector-org>
          <div class="vali_err" *ngIf="checkFormForsItemData(validateForm.form,'designUnitDesignDesignUnit',i)">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel2">
        <nz-form-control nzHasFeedback>
          <nz-select type="text" [(ngModel)]="item.qualificationLevel" name="designUnitDesignQualificationLevel{{i}}"
            #designUnitDesignQualificationLevel{{i}}="ngModel" placeholder="请输入资质等级" required>
          </nz-select>
          <div class="vali_err" *ngIf="checkFormForsItemData(validateForm.form,'designUnitDesignQualificationLevel',i)">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel3">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="item.legalRepresentative" name="designUnitLegalRepresentative{{i}}"
            #designUnitLegalRepresentative{{i}}="ngModel" placeholder="请输入联系人" required />


          <div class="vali_err" *ngIf="checkFormForsItemData(validateForm.form,'designUnitLegalRepresentative',i)">
            必填
          </div>

        </nz-form-control>
      </div>
      <div class="td_for_org_sel4">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="item.contacts" placeholder="联系电话" name="designUnitContacts{{i}}"
            #designUnitContacts{{i}}="ngModel" required />
          <div class="vali_err" *ngIf="checkFormForsItemData(validateForm.form,'designUnitContacts',i)">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_crl">
        <div class="tr_btm_nan">
          <div class="td_r_li">

            <button nz-button nzType="primary" nzSize="small" (click)="addElement(postData.design)">
              <i nz-icon type="plus" nzTheme="outline"></i>
            </button>
          </div>
          <div class="td_r_li" *ngIf="i!=0">
            <button nz-button nzType="default" nzSize="small" (click)="delElement(postData.design,i)">
              <i nz-icon type="minus" style="color: gray"></i>
            </button>
          </div>
        </div>
      </div>
    </div>











    <div class="tr" *ngFor="let item of postData.constructionUnit;let i = index">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">施工单位</nz-form-label>
      </div>
      <div class="td_for_org_sel1">
        <nz-form-control>
          <nz-rj-selector-org [(ngModel)]="item.designUnit" placeHolder="请输入施工单位" ngDefaultControl
            name="constructionUnitDesignDesignUnit{{i}}" #constructionUnitDesignDesignUnit{{i}}="ngModel" nzHasFeedback>
          </nz-rj-selector-org>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel2">
        <nz-form-control nzHasFeedback>
          <nz-select type="text" [(ngModel)]="item.qualificationLevel" name="constructionUnitQualificationLevel{{i}}"
            #constructionUnitQualificationLevel{{i}}="ngModel" placeholder="请输入资质等级">
          </nz-select>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel3">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="item.legalRepresentative"
            name="constructionUnitLegalRepresentative{{i}}" #constructionUnitLegalRepresentative{{i}}="ngModel"
            placeholder="请输入联系人" />

        </nz-form-control>
      </div>
      <div class="td_for_org_sel4">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="item.contacts" placeholder="联系电话"
            name="constructionUnitContacts{{i}}" #constructionUnitContacts{{i}}="ngModel" />
          <div class="vali_err" *ngIf="checkFormForsItemData(validateForm.form,'constructionUnitContacts',i)">
            电话号码不正确
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_crl">
        <div class="tr_btm_nan">
          <div class="td_r_li">

            <button nz-button nzType="primary" nzSize="small" (click)="addElement(postData.constructionUnit)">
              <i nz-icon type="plus" nzTheme="outline"></i>
            </button>
          </div>
          <div class="td_r_li" *ngIf="i!=0">
            <button nz-button nzType="default" nzSize="small" (click)="delElement(postData.constructionUnit,i)">
              <i nz-icon type="minus" style="color: gray"></i>
            </button>
          </div>
        </div>
      </div>
    </div>










    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">监理单位</nz-form-label>
      </div>
      <div class="td_for_org_sel1">
        <nz-form-control>
          <nz-rj-selector-org [(ngModel)]=" postData.constructionControlUnit.designUnit" placeHolder="请输入监理单位"
            ngDefaultControl name="constructionControlUnitDesignDesignUnit"
            #constructionControlUnitDesignDesignUnit="ngModel" nzHasFeedback>
          </nz-rj-selector-org>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel2">
        <nz-form-control nzHasFeedback>
          <nz-select type="text" [(ngModel)]=" postData.constructionControlUnit.qualificationLevel"
            name="constructionControlUnitQualificationLevel" #constructionControlUnitQualificationLevel="ngModel"
            placeholder="请输入资质等级">
          </nz-select>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel3">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]=" postData.constructionControlUnit.legalRepresentative"
            name="constructionControlUnitLegalRepresentative" #constructionControlUnitLegalRepresentative="ngModel"
            placeholder="请输入联系人" />

        </nz-form-control>
      </div>
      <div class="td_for_org_sel4">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]=" postData.constructionControlUnit.contacts" placeholder="联系电话"
            name="constructionControlUnitContacts" #constructionControlUnitContacts="ngModel" />
          <div class="vali_err"
            *ngIf="constructionControlUnitContacts.control.dirty&&constructionControlUnitContacts.control.errors">
            电话号码不正确
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_crl">

      </div>
    </div>











    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large" nzRequired>审图单位</nz-form-label>
      </div>
      <div class="td_for_org_sel1">
        <nz-form-control>
          <nz-rj-selector-org [(ngModel)]="postData.mappingUnit.mappingUnit" placeHolder="请输入审图单位" ngDefaultControl
            name="mappingUnitDesignmappingUnit" #mappingUnitDesignmappingUnit="ngModel" [required]="true" nzHasFeedback>
          </nz-rj-selector-org>
          <div class="vali_err"
            *ngIf="mappingUnitDesignmappingUnit.control.dirty&&mappingUnitDesignmappingUnit.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel2">
        <nz-form-control nzHasFeedback>
          <nz-select type="text" [(ngModel)]="postData.mappingUnit.qualificationLevel"
            name="mappingUnitDesignQualificationLevel" #mappingUnitDesignQualificationLevel="ngModel"
            placeholder="请输入资质等级" required>
          </nz-select>
          <div class="vali_err"
            *ngIf="mappingUnitDesignQualificationLevel.control.dirty&&mappingUnitDesignQualificationLevel.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_org_sel3">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="postData.mappingUnit.legalRepresentative"
            name="mappingUnitLegalRepresentative" #mappingUnitLegalRepresentative="ngModel" placeholder="请输入联系人"
            required />


          <div class="vali_err"
            *ngIf="mappingUnitLegalRepresentative.control.dirty&&mappingUnitLegalRepresentative.control.errors">
            必填
          </div>

        </nz-form-control>
      </div>
      <div class="td_for_org_sel4">
        <nz-form-control nzHasFeedback>
          <input nz-input type="text" [(ngModel)]="postData.mappingUnit.contacts" placeholder="联系电话"
            name="mappingUnitContacts" #mappingUnitContacts="ngModel" required />
          <div class="vali_err" *ngIf="mappingUnitContacts.control.dirty&&mappingUnitContacts.control.errors">
            必填
          </div>
        </nz-form-control>
      </div>
      <div class="td_for_crl">

      </div>
    </div>







    <div class="tr" *ngFor="let item of postData.mappingUnit.no;let i = index">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">审图编号</nz-form-label>
      </div>
      <div class="td">

        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="mappingUnitNo{{i}}" #constructionPermitNumber="ngModel"
            [(ngModel)]="item.noValue" placeholder="请输入审图编号  " />
          <div class="vali_err"
            *ngIf="(postData.mappingUnit.mainAdiseNo==''||postData.mappingUnit.mainAdiseNo==null)&&item.noValue==''">
            主体消防验收意见书编号、审图编号，两者必填一个
          </div>

        </nz-form-control>

      </div>
      <div class="td_for_crl">
        <div class="tr_btm_nan">
          <div class="td_r_li">
            <button nz-button nzType="primary" nzSize="small" (click)="addElement(postData.mappingUnit.no)">
              <i nz-icon type="plus" nzTheme="outline"></i>
            </button>
          </div>
          <div class="td_r_li" *ngIf="i!=0">
            <button nz-button nzType="default" nzSize="small" (click)="delElement(postData.mappingUnit.no,i)">
              <i nz-icon type="minus" style="color: gray"></i>
            </button>
          </div>
        </div>
      </div>
    </div>






    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">主体消防验收意见书编号</nz-form-label>
      </div>
      <div class="td_r_li">

        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="mappingUnitMainAdiseNo" #mappingUnitMainAdiseNo="ngModel"
            [(ngModel)]="postData.mappingUnit.mainAdiseNo" placeholder="二次装修无施工许可证编号的请填写主体消防验收意见书编号" />
          <!-- <div class="vali_err"
            *ngIf="(postData.constructionPermitNumber==''||postData.constructionPermitNumber==null)&&postData.mainAdiseNo==''">
            主体消防验收意见书编号、请输入施工许可证编号，两者必填一个
          </div> -->

        </nz-form-control>

      </div>
    </div>





    <div class="tr">
      <div class="td_label_fixed">
        <nz-form-label nzSize="large">建设工程规划许可证号</nz-form-label>
      </div>
      <div class="td_r_li">

        <nz-form-control nzHasFeedback>
          <input nz-input type="text" name="licenseNumber" #licenseNumber="ngModel" [(ngModel)]="postData.licenseNumber"
            placeholder="请输入建设工程规划许可证号" />

        </nz-form-control>

      </div>
    </div>










    <div class="tr">
      <div class="td_label_fixed_usage">


        <div class="td_usage">
          <nz-form-label nzSize="large" nzRequired><br>使<br>用<br>性<br>质<br></nz-form-label>

        </div>
        <div class="td_r_li">
          <nz-form-label nzSize="large">特殊建设工程</nz-form-label>

        </div>

      </div>
      <div class="td_r_li">

        <div class="tr_btm_nan">
          <nz-form-control>

            <nz-radio-group [(ngModel)]="postData.projectCategoryId" name="projectCategoryId"
              #projectCategoryId="ngModel" required>

              <div class="usage_radio_group_label">1、建筑总面积大于二万平方米:</div>
              <label nz-radio nzValue="1001">体育场馆</label>
              <label nz-radio nzValue="1002">公共展览馆</label>
              <label nz-radio nzValue="1003">博物馆的展示厅</label>


            </nz-radio-group>
            <div class="vali_err" *ngIf="projectCategoryId.control.dirty&&projectCategoryId.control.errors">
              必填
            </div>

          </nz-form-control>
        </div>

      </div>
    </div>




  </form>






  <div class="title">
    <button [disabled]="!validateForm.form.valid">提交</button>
  </div>

</nz-card>